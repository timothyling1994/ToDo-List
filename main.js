(()=>{"use strict";var e,t,n,r,c,d,i,a,o,l,s,u,p,m,v=function(){var e={entryId:0,dueDate:"",entry_descrip:"",checked:!1};return{editField:function(t,n){e[t]=n},changeChecked:function(){e.checked=!e.checked},returnField:function(t){return e[t]}}},h=(e=0,{addNewProject:function(n,r){var c,d,i,a=(c=0,{entryArray:d=[],returnCounter:function(){return c},addtoEntryArray:function(e){d.push(e),c+=1},editEntryArray:function(e,t){d[e]=t},deleteEntry:function(e){d.splice(e,1)}});a.proj_name=n,a.proj_description=r,a.projectId=e,i=a,t.push(i),e+=1},addEntrytoProject:function(e,n){var r=v();r.entry_descrip=n,r.entryId=t[e].returnCounter(),t[e].addtoEntryArray(r)},editEntryinProject:function(e,n,r){var c=v();c.entry_descrip=r,t[e].editEntryArray(n,c)},editProject:function(e,n,r){t[e].proj_name=n,t[e].proj_description=r},deleteProject:function(n){t.splice(n,1),e-=1;for(var r=0;r<t.length;r++)t[r].projectId=r},deleteEntryinProject:function(e,n){t[e].deleteEntry(n)},returnProjectsCounter:function(){return e},projectArray:t=[]}),y=(c=!1,i=function(e){console.log(c),s();var t=h.projectArray[e].proj_name,n=h.projectArray[e].proj_description;m(t,n,e),u(e)},a=function(){console.log(c),s();for(var e=h.projectArray.length,t=0;t<e;t++){var n=h.projectArray[t].proj_name,r=h.projectArray[t].proj_description,d=h.projectArray[t].projectId;m(n,r,d),u(d)}},o=function(){l();for(var e=h.projectArray.length,t=document.querySelector("#project-panel"),n=document.querySelector("#add-project"),r=0;r<e;r++){var d=h.projectArray[r].proj_name,a=document.createElement("div");a.setAttribute("id","panel-"+r),a.setAttribute("value",r),a.classList.add("panel-item"),a.addEventListener("click",(function(){document.querySelectorAll(".panel-item, .all-panel-item").forEach((function(e){console.log(e),e.classList.contains("panel-highlight")&&e.classList.remove("panel-highlight")})),this.classList.add("panel-highlight"),c=!1,i(this.getAttribute("value"))}));var o=document.createTextNode(d);a.appendChild(o),t.insertBefore(a,n)}},l=function(){document.querySelectorAll(".panel-item").forEach((function(e){e.parentElement.removeChild(e)}))},u=function(e){for(var t=h.projectArray[e].entryArray.length,n="#project-"+e,r=document.querySelector(n),c=function(t){var n=h.projectArray[e].entryArray[t],c=document.createElement("div");c.classList.add("task-row"),c.setAttribute("id","entry-"+t),c.setAttribute("value",t);var d=document.createElement("div");d.classList.add("check-box"),1==n.returnField("checked")&&d.classList.add("checked"),d.addEventListener("click",(function(){if(this.classList.contains("checked")){this.classList.remove("checked");var e=this.closest(".project").getAttribute("value"),t=c.closest(".task-row").getAttribute("id").substr(6);h.projectArray[e].entryArray[t].changeChecked()}else{this.classList.add("checked");var n=this.closest(".project").getAttribute("value"),r=c.closest(".task-row").getAttribute("id").substr(6);h.projectArray[n].entryArray[r].changeChecked()}})),c.appendChild(d);var i=document.createElement("div");i.classList.add("text-container");var a=h.projectArray[e].entryArray[t].entry_descrip,o=document.createTextNode(a);i.appendChild(o),i.addEventListener("click",(function(){this.parentElement.style.display="none";var e=this.closest(".project").getAttribute("value");p(e,this.parentElement,!0,i.textContent)})),c.appendChild(i,c),r.insertBefore(c,r.querySelector(".add-task"))},d=0;d<t;d++)c(d)},p=function(e,t,n,r){n=n||!1;var d="#project-"+e,o=document.querySelector(d),l=document.createElement("div");l.classList.add("task-row");var s=document.createElement("input");s.classList.add("task-name-input"),s.setAttribute("type","text"),n&&(s.value=r);var u=document.createElement("div");u.setAttribute("id","due-date");var p=document.createElement("div");p.classList.add("submit-task");var m=document.createTextNode("Submit");p.appendChild(m),p.addEventListener("click",(function(){var e=this.parentElement.querySelector(".task-name-input").value,t=this.closest(".project").getAttribute("value");if(console.log("task"+e),e)if(n){var r=this.parentElement.nextSibling.getAttribute("value");h.editEntryinProject(t,r,e),c?a():i(t),n=!1}else h.addEntrytoProject(t,e),c?a():i(t)}));var v=document.createElement("div");if(v.classList.add("cancel-task"),m=document.createTextNode("Cancel"),v.appendChild(m),v.addEventListener("click",(function(){n&&(this.parentElement.nextSibling.style.display="flex",this.closest(".project").removeChild(this.parentElement),n=!1)})),l.appendChild(s,l),l.appendChild(u,l),l.appendChild(p,l),n){var y=document.createElement("div");y.classList.add("delete-task"),m=document.createTextNode("Delete"),y.appendChild(m),y.addEventListener("click",(function(){var e=this.parentElement.nextSibling.getAttribute("value"),t=this.closest(".project").getAttribute("value");h.deleteEntryinProject(t,e),c?a():i(t)})),l.appendChild(y,l)}l.appendChild(v,l),o.insertBefore(l,t)},m=function(e,t,c){var d=document.querySelector("#editModalWindow"),i=document.createElement("div");i.setAttribute("class","project-info");var l=document.createElement("div"),s=document.createTextNode(e);l.appendChild(s),l.classList.add("project-name");var u=document.createElement("div"),m=document.createTextNode(t);u.appendChild(m),u.classList.add("project-description"),i.appendChild(l,i),i.appendChild(u,i);var v=document.createElement("div");v.setAttribute("class","project-btns-container");var y=document.createElement("div");y.classList.add("project-btns"),y.addEventListener("click",(function(){var e=document.querySelector("#edit-project-name-input"),t=document.querySelector("#edit-project-descrip-input"),n=this.parentElement.previousSibling.firstChild.textContent,c=this.parentElement.previousSibling.firstChild.nextSibling.textContent;r=this.closest(".project").getAttribute("value"),e.value=n,t.value=c,d.style.display="block"}));var j=document.createTextNode("Edit");y.appendChild(j);var f=document.createElement("div");f.classList.add("project-btns"),f.addEventListener("click",(function(){var e=this.closest(".project").getAttribute("value");h.deleteProject(e),a(),o()}));var E=document.createTextNode("Delete");f.appendChild(E),v.appendChild(y,v),v.appendChild(f,v);var A=document.createElement("div");A.setAttribute("id","project-"+c),A.setAttribute("value",c),A.classList.add("project"),A.appendChild(i,A),A.appendChild(v,A);var g=document.createElement("div");g.classList.add("main-divider"),A.appendChild(g);var C=document.createElement("div");C.classList.add("add-task");var L=document.createElement("span"),b=document.createTextNode("+");L.appendChild(b),L.classList.add("plus-icon");var k=document.createTextNode(" Add Task");C.appendChild(L),C.appendChild(k),C.addEventListener("click",(function(){var e=this.closest(".project").getAttribute("value");p(e,this)})),A.appendChild(C,A),n.appendChild(A,n)},{init:function(){!function(){document.querySelector("#project-panel"),document.querySelector("#project-main"),document.querySelector("#all");var e=document.getElementById("modalWindow"),t=document.getElementById("editModalWindow"),n=document.querySelector("#add-project"),r=document.getElementsByClassName("close")[0],c=document.getElementsByClassName("close")[1],d=document.querySelector("#submit-add"),i=document.querySelector("#submit-edit");all.addEventListener("click",(function(){document.querySelectorAll(".panel-item").forEach((function(e){e.classList.contains("panel-highlight")&&e.classList.remove("panel-highlight")})),this.classList.add("panel-highlight"),y.toggleisAllTab(),y.updateAllDOM()})),n.addEventListener("click",(function(){e.style.display="block"})),r.addEventListener("click",(function(){e.style.display="none"})),c.addEventListener("click",(function(){editModalWindow.style.display="none"})),d.addEventListener("click",(function(){var t=document.querySelector("#project-name-input").value,n=document.querySelector("#project-descrip-input").value;h.addNewProject(t,n);var r=h.returnProjectsCounter()-1;y.returnisAllTab()?(y.updateAllDOM(),y.updateProjectPanelDOM()):(y.updateDOM(r),y.updateProjectPanelDOM(),document.querySelector("#panel-"+r).classList.add("panel-highlight")),e.style.display="none"})),i.addEventListener("click",(function(){y.sendEditedDetails(this),t.style.display="none"}))}(),document.querySelector("#project-panel"),n=document.querySelector("#project-main")},toggleisAllTab:function(){c=!0},returnisAllTab:d=function(){return c},updateAllDOM:a,updateDOM:i,updateProjectPanelDOM:o,sendEditedDetails:function(e){var t=document.querySelector("#edit-project-name-input").value,n=document.querySelector("#edit-project-descrip-input").value;h.editProject(r,t,n),d()?(a(),o()):(i(r),o(),document.querySelector("#panel-"+r).classList.add("panel-highlight"))},addNewProjectDOM:m,deleteDOM:s=function(){for(;n.firstChild;)n.removeChild(n.lastChild)}});document.addEventListener("DOMContentLoaded",(function(e){y.init()}),!1)})();